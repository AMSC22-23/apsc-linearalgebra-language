<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>apsc Linear Algebra Language: apsc::LinearAlgebra::Language::SparseMatrix&lt; Scalar, OT, USE_MPI &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">apsc Linear Algebra Language
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>apsc</b></li><li class="navelem"><b>LinearAlgebra</b></li><li class="navelem"><b>Language</b></li><li class="navelem"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">SparseMatrix</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">apsc::LinearAlgebra::Language::SparseMatrix&lt; Scalar, OT, USE_MPI &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class representing a sparse matrix.  
 <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="apsc__language_8hpp_source.html">apsc_language.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for apsc::LinearAlgebra::Language::SparseMatrix&lt; Scalar, OT, USE_MPI &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix__coll__graph.png" border="0" usemap="#apsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix_3_01Scalar_00_01OT_00_01USE__MPI_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="apsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix_3_01Scalar_00_01OT_00_01USE__MPI_01_4_coll__map" id="apsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix_3_01Scalar_00_01OT_00_01USE__MPI_01_4_coll__map">
<area shape="rect" title="A class representing a sparse matrix." alt="" coords="555,27,741,83"/>
<area shape="rect" href="classapsc_1_1LinearAlgebra_1_1MPISparseMatrix.html" title=" " alt="" coords="5,5,353,105"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a3f7d8f9907a969f1ac8d1d6639384d15"><td class="memItemLeft" align="right" valign="top"><a id="a3f7d8f9907a969f1ac8d1d6639384d15"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>VectorX</b> = Eigen::Matrix&lt; Scalar, Eigen::Dynamic, 1 &gt;</td></tr>
<tr class="separator:a3f7d8f9907a969f1ac8d1d6639384d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad0480bfaa9cbf1b4295892b8407855bb"><td class="memItemLeft" align="right" valign="top"><a id="ad0480bfaa9cbf1b4295892b8407855bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#ad0480bfaa9cbf1b4295892b8407855bb">SparseMatrix</a> ()</td></tr>
<tr class="memdesc:ad0480bfaa9cbf1b4295892b8407855bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html" title="A class representing a sparse matrix.">SparseMatrix</a>. <br /></td></tr>
<tr class="separator:ad0480bfaa9cbf1b4295892b8407855bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7992d1d695915474e416df96614f6430"><td class="memItemLeft" align="right" valign="top"><a id="a7992d1d695915474e416df96614f6430"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a7992d1d695915474e416df96614f6430">setup_mpi</a> ()</td></tr>
<tr class="memdesc:a7992d1d695915474e416df96614f6430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up MPI communication after resizing or modifying data. <br /></td></tr>
<tr class="separator:a7992d1d695915474e416df96614f6430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5cc0a32d0173f2abb31e925ed88e68"><td class="memItemLeft" align="right" valign="top">Scalar &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a9e5cc0a32d0173f2abb31e925ed88e68">operator()</a> (const int i, const int j)</td></tr>
<tr class="memdesc:a9e5cc0a32d0173f2abb31e925ed88e68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accesses elements of the matrix for modification.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a9e5cc0a32d0173f2abb31e925ed88e68">More...</a><br /></td></tr>
<tr class="separator:a9e5cc0a32d0173f2abb31e925ed88e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7079c54ce1f361092afabbcc52ac8616"><td class="memItemLeft" align="right" valign="top">Scalar&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a7079c54ce1f361092afabbcc52ac8616">operator()</a> (const int i, const int j) const</td></tr>
<tr class="memdesc:a7079c54ce1f361092afabbcc52ac8616"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accesses elements of the matrix for read-only purposes.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a7079c54ce1f361092afabbcc52ac8616">More...</a><br /></td></tr>
<tr class="separator:a7079c54ce1f361092afabbcc52ac8616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1f55578664a008a9271e8556d7cf4e"><td class="memItemLeft" align="right" valign="top">VectorX&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#aaa1f55578664a008a9271e8556d7cf4e">operator*</a> (VectorX const &amp;vec)</td></tr>
<tr class="memdesc:aaa1f55578664a008a9271e8556d7cf4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs matrix-vector multiplication.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#aaa1f55578664a008a9271e8556d7cf4e">More...</a><br /></td></tr>
<tr class="separator:aaa1f55578664a008a9271e8556d7cf4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7007f8ed15e46f19f627e641edac8670"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a7007f8ed15e46f19f627e641edac8670">resize</a> (const int <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a2875e7fb309b53326d0b1ed1bdf6fffb">rows</a>, const int <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a24d0f159037f0e99d7bcf8bb86272f0c">cols</a>)</td></tr>
<tr class="memdesc:a7007f8ed15e46f19f627e641edac8670"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the matrix.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a7007f8ed15e46f19f627e641edac8670">More...</a><br /></td></tr>
<tr class="separator:a7007f8ed15e46f19f627e641edac8670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a984215c75a4525b93b8ab34d52c99ed9"><td class="memTemplParams" colspan="2">template&lt;IterativeSolverType Solver&gt; </td></tr>
<tr class="memitem:a984215c75a4525b93b8ab34d52c99ed9"><td class="memTemplItemLeft" align="right" valign="top">VectorX&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a984215c75a4525b93b8ab34d52c99ed9">solve_iterative</a> (VectorX rhs)</td></tr>
<tr class="memdesc:a984215c75a4525b93b8ab34d52c99ed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solves the linear system iteratively.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a984215c75a4525b93b8ab34d52c99ed9">More...</a><br /></td></tr>
<tr class="separator:a984215c75a4525b93b8ab34d52c99ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3fa50c9b6b045e8f0427e3e859fcf5"><td class="memItemLeft" align="right" valign="top">VectorX&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a1b3fa50c9b6b045e8f0427e3e859fcf5">solve_direct</a> (VectorX &amp;rhs)</td></tr>
<tr class="memdesc:a1b3fa50c9b6b045e8f0427e3e859fcf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solves the linear system directly using QR factorization. Only master rank will collect the result vector.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a1b3fa50c9b6b045e8f0427e3e859fcf5">More...</a><br /></td></tr>
<tr class="separator:a1b3fa50c9b6b045e8f0427e3e859fcf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1aafe2ce404b17e4045db0f898bf8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a5b1aafe2ce404b17e4045db0f898bf8f">load_from_file</a> (std::string file_name)</td></tr>
<tr class="memdesc:a5b1aafe2ce404b17e4045db0f898bf8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the matrix data from a file.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a5b1aafe2ce404b17e4045db0f898bf8f">More...</a><br /></td></tr>
<tr class="separator:a5b1aafe2ce404b17e4045db0f898bf8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a19c47ece33a3f11a5d54c2e0c8010e"><td class="memItemLeft" align="right" valign="top"><a id="a9a19c47ece33a3f11a5d54c2e0c8010e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a9a19c47ece33a3f11a5d54c2e0c8010e">show_mpi_split</a> ()</td></tr>
<tr class="memdesc:a9a19c47ece33a3f11a5d54c2e0c8010e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the split of the matrix across MPI processes. <br /></td></tr>
<tr class="separator:a9a19c47ece33a3f11a5d54c2e0c8010e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2875e7fb309b53326d0b1ed1bdf6fffb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a2875e7fb309b53326d0b1ed1bdf6fffb">rows</a> () const</td></tr>
<tr class="memdesc:a2875e7fb309b53326d0b1ed1bdf6fffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of rows in the matrix.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a2875e7fb309b53326d0b1ed1bdf6fffb">More...</a><br /></td></tr>
<tr class="separator:a2875e7fb309b53326d0b1ed1bdf6fffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24d0f159037f0e99d7bcf8bb86272f0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a24d0f159037f0e99d7bcf8bb86272f0c">cols</a> () const</td></tr>
<tr class="memdesc:a24d0f159037f0e99d7bcf8bb86272f0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of columns in the matrix.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a24d0f159037f0e99d7bcf8bb86272f0c">More...</a><br /></td></tr>
<tr class="separator:a24d0f159037f0e99d7bcf8bb86272f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f57ce2464adae15f4ec80f5514eb5f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a3f57ce2464adae15f4ec80f5514eb5f3">non_zeros</a> () const</td></tr>
<tr class="memdesc:a3f57ce2464adae15f4ec80f5514eb5f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of non zero elements.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a3f57ce2464adae15f4ec80f5514eb5f3">More...</a><br /></td></tr>
<tr class="separator:a3f57ce2464adae15f4ec80f5514eb5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabfb3879f818ccbbf922d64e64582070"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#aabfb3879f818ccbbf922d64e64582070">solver_success</a> () const</td></tr>
<tr class="memdesc:aabfb3879f818ccbbf922d64e64582070"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the solver status code.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#aabfb3879f818ccbbf922d64e64582070">More...</a><br /></td></tr>
<tr class="separator:aabfb3879f818ccbbf922d64e64582070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7454571a22ceb7913eb696a6eb2ff1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#ada7454571a22ceb7913eb696a6eb2ff1">solver_iterations</a> () const</td></tr>
<tr class="memdesc:ada7454571a22ceb7913eb696a6eb2ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the solver iteration count.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#ada7454571a22ceb7913eb696a6eb2ff1">More...</a><br /></td></tr>
<tr class="separator:ada7454571a22ceb7913eb696a6eb2ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8f3070c99163a2c6ec79ed80081a15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#adf8f3070c99163a2c6ec79ed80081a15">set_gmres_restart</a> (const int restart)</td></tr>
<tr class="memdesc:adf8f3070c99163a2c6ec79ed80081a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the GMRES restart value.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#adf8f3070c99163a2c6ec79ed80081a15">More...</a><br /></td></tr>
<tr class="separator:adf8f3070c99163a2c6ec79ed80081a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad72ebdeb0f6a706fd38fb543afa802"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a5ad72ebdeb0f6a706fd38fb543afa802">set_spai_tol</a> (const Scalar tol)</td></tr>
<tr class="memdesc:a5ad72ebdeb0f6a706fd38fb543afa802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the SPAI tolerance value.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a5ad72ebdeb0f6a706fd38fb543afa802">More...</a><br /></td></tr>
<tr class="separator:a5ad72ebdeb0f6a706fd38fb543afa802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5a11e6047a67076298441aad6b7c37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a9f5a11e6047a67076298441aad6b7c37">set_spai_max_iters</a> (const int iters)</td></tr>
<tr class="memdesc:a9f5a11e6047a67076298441aad6b7c37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the SPAI max iterations value.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a9f5a11e6047a67076298441aad6b7c37">More...</a><br /></td></tr>
<tr class="separator:a9f5a11e6047a67076298441aad6b7c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab82ae940d4b7124d4b6155a9600a6361"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#ab82ae940d4b7124d4b6155a9600a6361">stream_to</a> (std::ostream &amp;os) const</td></tr>
<tr class="memdesc:ab82ae940d4b7124d4b6155a9600a6361"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stream the matrix to an output stream.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#ab82ae940d4b7124d4b6155a9600a6361">More...</a><br /></td></tr>
<tr class="separator:ab82ae940d4b7124d4b6155a9600a6361"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4549c396a0e45da1af31373101a49c17"><td class="memItemLeft" align="right" valign="top"><a id="a4549c396a0e45da1af31373101a49c17"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a4549c396a0e45da1af31373101a49c17">spai_setup</a> ()</td></tr>
<tr class="memdesc:a4549c396a0e45da1af31373101a49c17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the SPAI preconditioner. <br /></td></tr>
<tr class="separator:a4549c396a0e45da1af31373101a49c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a08f1c1be107ee38bd4a4b18269ef73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a8a08f1c1be107ee38bd4a4b18269ef73">spai_setup</a> (const int <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a2875e7fb309b53326d0b1ed1bdf6fffb">rows</a>, const int <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a24d0f159037f0e99d7bcf8bb86272f0c">cols</a>, const int nnz, int *external_offset, int *external_flat_row_data, Scalar *external_values)</td></tr>
<tr class="memdesc:a8a08f1c1be107ee38bd4a4b18269ef73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the SPAI preconditioner. Due to current implementation limitations, the sparse matrix must be broadcasted to every process. This function expects that the incoming buffers are already filled up. Only master rank will contain the correct approximate inverse.  <a href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a8a08f1c1be107ee38bd4a4b18269ef73">More...</a><br /></td></tr>
<tr class="separator:a8a08f1c1be107ee38bd4a4b18269ef73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1cc4a68a43687993fb5c3ad171cd2c54"><td class="memItemLeft" align="right" valign="top"><a id="a1cc4a68a43687993fb5c3ad171cd2c54"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a1cc4a68a43687993fb5c3ad171cd2c54">mpi_size</a></td></tr>
<tr class="memdesc:a1cc4a68a43687993fb5c3ad171cd2c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">MPI size. <br /></td></tr>
<tr class="separator:a1cc4a68a43687993fb5c3ad171cd2c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7dd9bcb3517e27980b4bc816e7f53db"><td class="memItemLeft" align="right" valign="top"><a id="ad7dd9bcb3517e27980b4bc816e7f53db"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#ad7dd9bcb3517e27980b4bc816e7f53db">mpi_rank</a></td></tr>
<tr class="memdesc:ad7dd9bcb3517e27980b4bc816e7f53db"><td class="mdescLeft">&#160;</td><td class="mdescRight">MPI rank. <br /></td></tr>
<tr class="separator:ad7dd9bcb3517e27980b4bc816e7f53db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c840a062af72322341ee0544f83f4d"><td class="memItemLeft" align="right" valign="top"><a id="a39c840a062af72322341ee0544f83f4d"></a>
MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a39c840a062af72322341ee0544f83f4d">communicator</a></td></tr>
<tr class="memdesc:a39c840a062af72322341ee0544f83f4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">MPI communicator. <br /></td></tr>
<tr class="separator:a39c840a062af72322341ee0544f83f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dda1d3184d73aeae9668595bbf1f7d5"><td class="memItemLeft" align="right" valign="top"><a id="a3dda1d3184d73aeae9668595bbf1f7d5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a3dda1d3184d73aeae9668595bbf1f7d5">solver_info</a> = 0</td></tr>
<tr class="memdesc:a3dda1d3184d73aeae9668595bbf1f7d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linear solver status code. <br /></td></tr>
<tr class="separator:a3dda1d3184d73aeae9668595bbf1f7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f62be32b6b7f6625c4faf44aad977c7"><td class="memItemLeft" align="right" valign="top"><a id="a8f62be32b6b7f6625c4faf44aad977c7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a8f62be32b6b7f6625c4faf44aad977c7">solver_iter</a> = 0</td></tr>
<tr class="memdesc:a8f62be32b6b7f6625c4faf44aad977c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linear solver iteration count. <br /></td></tr>
<tr class="separator:a8f62be32b6b7f6625c4faf44aad977c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dde617162223005c3e540931cb5d338"><td class="memItemLeft" align="right" valign="top"><a id="a9dde617162223005c3e540931cb5d338"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a9dde617162223005c3e540931cb5d338">gmres_restart</a> = GMRES_NO_RESTART</td></tr>
<tr class="memdesc:a9dde617162223005c3e540931cb5d338"><td class="mdescLeft">&#160;</td><td class="mdescRight">GMRES restart. <br /></td></tr>
<tr class="separator:a9dde617162223005c3e540931cb5d338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756c7d5feee19264ed7c6db0d6d8f37c"><td class="memItemLeft" align="right" valign="top"><a id="a756c7d5feee19264ed7c6db0d6d8f37c"></a>
Scalar&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a756c7d5feee19264ed7c6db0d6d8f37c">spai_tol</a> = 0.2</td></tr>
<tr class="memdesc:a756c7d5feee19264ed7c6db0d6d8f37c"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPAI tolerance. <br /></td></tr>
<tr class="separator:a756c7d5feee19264ed7c6db0d6d8f37c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7738b8dd2014e6f88528a868372af105"><td class="memItemLeft" align="right" valign="top"><a id="a7738b8dd2014e6f88528a868372af105"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a7738b8dd2014e6f88528a868372af105">spai_max_iter</a> = 50</td></tr>
<tr class="memdesc:a7738b8dd2014e6f88528a868372af105"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPAI max iter. <br /></td></tr>
<tr class="separator:a7738b8dd2014e6f88528a868372af105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4756fcd57d3c242f90e0f1efa37c0c"><td class="memItemLeft" align="right" valign="top"><a id="aae4756fcd57d3c242f90e0f1efa37c0c"></a>
Eigen::SparseMatrix&lt; double, OT==OrderingType::COLUMNMAJOR ? Eigen::ColMajor :Eigen::RowMajor &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#aae4756fcd57d3c242f90e0f1efa37c0c">eigen_sparse_matrix</a></td></tr>
<tr class="memdesc:aae4756fcd57d3c242f90e0f1efa37c0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of a sparse matrix. <br /></td></tr>
<tr class="separator:aae4756fcd57d3c242f90e0f1efa37c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa571ba632ad6e3a56f25825c6a0fc1"><td class="memItemLeft" align="right" valign="top"><a id="a5aa571ba632ad6e3a56f25825c6a0fc1"></a>
<a class="el" href="classapsc_1_1LinearAlgebra_1_1MPISparseMatrix.html">MPISparseMatrix</a>&lt; decltype(<a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#aae4756fcd57d3c242f90e0f1efa37c0c">eigen_sparse_matrix</a>), VectorX, OT==OrderingType::COLUMNMAJOR ? ORDERINGTYPE::COLUMNWISE :ORDERINGTYPE::ROWWISE &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a5aa571ba632ad6e3a56f25825c6a0fc1">parallel_sparse_matrix</a></td></tr>
<tr class="memdesc:a5aa571ba632ad6e3a56f25825c6a0fc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of a MPI sparse matrix. <br /></td></tr>
<tr class="separator:a5aa571ba632ad6e3a56f25825c6a0fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a071ae645bbb277e4d556a7fa0a1646d2"><td class="memItemLeft" align="right" valign="top"><a id="a071ae645bbb277e4d556a7fa0a1646d2"></a>
apsc::LinearAlgebra::Preconditioners::ApproximateInverse::SPAI&lt; Scalar, Eigen::Matrix&lt; Scalar, Eigen::Dynamic, Eigen::Dynamic &gt;, 0 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html#a071ae645bbb277e4d556a7fa0a1646d2">spai</a></td></tr>
<tr class="memdesc:a071ae645bbb277e4d556a7fa0a1646d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPAI preconditioner (<a href="https://epubs.siam.org/doi/10.1137/S1064827594276552">https://epubs.siam.org/doi/10.1137/S1064827594276552</a>). <br /></td></tr>
<tr class="separator:a071ae645bbb277e4d556a7fa0a1646d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:adb7d79d39cedc79ebb38a58dca5b6477"><td class="memItemLeft" align="right" valign="top"><a id="adb7d79d39cedc79ebb38a58dca5b6477"></a>
static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><b>GMRES_NO_RESTART</b> = INT_MAX</td></tr>
<tr class="separator:adb7d79d39cedc79ebb38a58dca5b6477"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Scalar, OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt;<br />
class apsc::LinearAlgebra::Language::SparseMatrix&lt; Scalar, OT, USE_MPI &gt;</h3>

<p>A class representing a sparse matrix. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Scalar</td><td>The scalar type of the matrix elements. </td></tr>
    <tr><td class="paramname">OT</td><td>The ordering type of the matrix. </td></tr>
    <tr><td class="paramname">USE_MPI</td><td>Flag indicating whether MPI is used or not. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a24d0f159037f0e99d7bcf8bb86272f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24d0f159037f0e99d7bcf8bb86272f0c">&#9670;&nbsp;</a></span>cols()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::cols </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the number of columns in the matrix. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of columns. </dd></dl>

</div>
</div>
<a id="a5b1aafe2ce404b17e4045db0f898bf8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b1aafe2ce404b17e4045db0f898bf8f">&#9670;&nbsp;</a></span>load_from_file()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::load_from_file </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the matrix data from a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>Path to the file containing matrix data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f57ce2464adae15f4ec80f5514eb5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f57ce2464adae15f4ec80f5514eb5f3">&#9670;&nbsp;</a></span>non_zeros()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::non_zeros </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the number of non zero elements. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of non zeros. </dd></dl>

</div>
</div>
<a id="a9e5cc0a32d0173f2abb31e925ed88e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5cc0a32d0173f2abb31e925ed88e68">&#9670;&nbsp;</a></span>operator()() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Scalar&amp; <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::operator() </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accesses elements of the matrix for modification. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Row index. </td></tr>
    <tr><td class="paramname">j</td><td>Column index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to the matrix element. </dd></dl>

</div>
</div>
<a id="a7079c54ce1f361092afabbcc52ac8616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7079c54ce1f361092afabbcc52ac8616">&#9670;&nbsp;</a></span>operator()() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Scalar <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::operator() </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accesses elements of the matrix for read-only purposes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Row index. </td></tr>
    <tr><td class="paramname">j</td><td>Column index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value of the matrix element. </dd></dl>

</div>
</div>
<a id="aaa1f55578664a008a9271e8556d7cf4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa1f55578664a008a9271e8556d7cf4e">&#9670;&nbsp;</a></span>operator*()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VectorX <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::operator* </td>
          <td>(</td>
          <td class="paramtype">VectorX const &amp;&#160;</td>
          <td class="paramname"><em>vec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs matrix-vector multiplication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vec</td><td>Input vector. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Resultant vector after multiplication. </dd></dl>

</div>
</div>
<a id="a7007f8ed15e46f19f627e641edac8670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7007f8ed15e46f19f627e641edac8670">&#9670;&nbsp;</a></span>resize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::resize </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>cols</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resizes the matrix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rows</td><td>Number of rows. </td></tr>
    <tr><td class="paramname">cols</td><td>Number of columns. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2875e7fb309b53326d0b1ed1bdf6fffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2875e7fb309b53326d0b1ed1bdf6fffb">&#9670;&nbsp;</a></span>rows()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::rows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the number of rows in the matrix. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of rows. </dd></dl>

</div>
</div>
<a id="adf8f3070c99163a2c6ec79ed80081a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf8f3070c99163a2c6ec79ed80081a15">&#9670;&nbsp;</a></span>set_gmres_restart()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::set_gmres_restart </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>restart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the GMRES restart value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">restart</td><td>The restart value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9f5a11e6047a67076298441aad6b7c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f5a11e6047a67076298441aad6b7c37">&#9670;&nbsp;</a></span>set_spai_max_iters()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::set_spai_max_iters </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>iters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the SPAI max iterations value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iters</td><td>The max iterations value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5ad72ebdeb0f6a706fd38fb543afa802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ad72ebdeb0f6a706fd38fb543afa802">&#9670;&nbsp;</a></span>set_spai_tol()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::set_spai_tol </td>
          <td>(</td>
          <td class="paramtype">const Scalar&#160;</td>
          <td class="paramname"><em>tol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the SPAI tolerance value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tol</td><td>The tolerance value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1b3fa50c9b6b045e8f0427e3e859fcf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3fa50c9b6b045e8f0427e3e859fcf5">&#9670;&nbsp;</a></span>solve_direct()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VectorX <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::solve_direct </td>
          <td>(</td>
          <td class="paramtype">VectorX &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Solves the linear system directly using QR factorization. Only master rank will collect the result vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rhs</td><td>Right-hand side vector. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Solution vector. </dd></dl>

</div>
</div>
<a id="a984215c75a4525b93b8ab34d52c99ed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a984215c75a4525b93b8ab34d52c99ed9">&#9670;&nbsp;</a></span>solve_iterative()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<div class="memtemplate">
template&lt;IterativeSolverType Solver&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VectorX <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::solve_iterative </td>
          <td>(</td>
          <td class="paramtype">VectorX&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Solves the linear system iteratively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rhs</td><td>Right-hand side vector. </td></tr>
    <tr><td class="paramname">gmres_restart</td><td>The gmres method restart param, by default set to a high value indicating no restart. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Solution vector. </dd></dl>

</div>
</div>
<a id="ada7454571a22ceb7913eb696a6eb2ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada7454571a22ceb7913eb696a6eb2ff1">&#9670;&nbsp;</a></span>solver_iterations()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::solver_iterations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the solver iteration count. </p>
<dl class="section return"><dt>Returns</dt><dd>The solver iteration count. </dd></dl>

</div>
</div>
<a id="aabfb3879f818ccbbf922d64e64582070"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabfb3879f818ccbbf922d64e64582070">&#9670;&nbsp;</a></span>solver_success()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::solver_success </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the solver status code. </p>
<dl class="section return"><dt>Returns</dt><dd>The solver status code. </dd></dl>

</div>
</div>
<a id="a8a08f1c1be107ee38bd4a4b18269ef73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a08f1c1be107ee38bd4a4b18269ef73">&#9670;&nbsp;</a></span>spai_setup()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::spai_setup </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nnz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>external_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>external_flat_row_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Scalar *&#160;</td>
          <td class="paramname"><em>external_values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup the SPAI preconditioner. Due to current implementation limitations, the sparse matrix must be broadcasted to every process. This function expects that the incoming buffers are already filled up. Only master rank will contain the correct approximate inverse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rows</td><td>The sparse matrix rows. </td></tr>
    <tr><td class="paramname">cols</td><td>The sparse matrix columns. </td></tr>
    <tr><td class="paramname">nnx</td><td>The sparse non zero elements. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab82ae940d4b7124d4b6155a9600a6361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab82ae940d4b7124d4b6155a9600a6361">&#9670;&nbsp;</a></span>stream_to()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , OrderingType OT = OrderingType::COLUMNMAJOR, int USE_MPI = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classapsc_1_1LinearAlgebra_1_1Language_1_1SparseMatrix.html">apsc::LinearAlgebra::Language::SparseMatrix</a>&lt; Scalar, OT, USE_MPI &gt;::stream_to </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stream the matrix to an output stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">os</td><td>A reference to an output stream. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/<a class="el" href="apsc__language_8hpp_source.html">apsc_language.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
